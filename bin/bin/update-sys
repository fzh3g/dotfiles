#!/usr/bin/env zsh

echo -e "\e[38;5;226mStarting update...\e[0m"

# # ruby gems
# echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating Ruby gems...\e[0m"
# gem update
# gem cleanup

# # npm
# echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating npm...\e[0m"
# npm-check -gu
# npm ddp -g
# cd ~/www/blog
# npm-check -uE
# npm ddp
# cd ~

# oh-my-zsh
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating oh-my-zsh...\e[0m"
if [ ! -d ~/.oh-my-zsh/ ]; then
    git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
else
    cd ~/.oh-my-zsh && git pull origin master
fi

# spaceship zsh theme
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating spaceship zsh-theme...\e[0m"
if [ ! -d ~/.oh-my-zsh/custom/themes/spaceship-prompt/ ]; then
    git clone https://github.com/denysdovhan/spaceship-prompt.git \
        ~/.oh-my-zsh/custom/themes/spaceship-prompt
    ln -s ~/.oh-my-zsh/custom/themes/spaceship-prompt/spaceship.zsh-theme \
        ~/.oh-my-zsh/custom/themes/spaceship.zsh-theme
else
    cd ~/.oh-my-zsh/custom/themes/spaceship-prompt/ && \
        git pull origin master
fi

# zsh-syntax-highlighting
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating zsh-syntax-highlighting...\e[0m"
if [ ! -d ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/ ]; then
    git clone https://github.com/zsh-users/zsh-syntax-highlighting.git \
        ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
else
    cd ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/ && \
        git pull origin master
fi

# enhancd
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating Enhancd...\e[0m"
if [ ! -d ~/.enhancd/ ]; then
    git clone https://github.com/b4b4r07/enhancd ~/.enhancd
else
    cd ~/.enhancd/ && git pull origin master
fi
source ~/.enhancd/init.sh

# fzf
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating fzf...\e[0m"
if [ ! -d ~/.fzf/ ]; then
    git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
else
    cd ~/.fzf/ && git pull origin master
fi
~/.fzf/install --all

# IDL
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mUpdating IDL libraries...\e[0m"
if [ ! -d $IDL_LIB_DIR/astrolib/ ]; then
    cd $IDL_LIB_DIR/astrolib/ && git pull origin master
    cd ~
fi
if [ ! -d $IDL_LIB_DIR/idl-coyote/ ]; then
    cd $IDL_LIB_DIR/idl-coyote/ && git pull origin master
    cd ~
fi

# source .zshrc
echo -e "\e[38;5;164m==>\e[0m \e[38;5;85mSource ~/.zshrc\e[0m"
source ~/.zshrc

# finished!
echo -e "\e[38;5;226mUpdating finished!\e[0m"
